# MediaSoftREST

Необходимо реализовать REST API для ответов на вопросы викторины.
Сервис должен быть реализован на Spring Boot, а для хранения вопросов необходимо использовать любую реляционную БД.

Формат ответа API должен включать следующие атрибуты:
<ul>
	<li><strong>code</strong> - обязательное поле, содержащее статус выполнения запроса (например, OK, validation_error, internal_error)</li>
	<li><strong>description</strong> - в случае ошибки выполнения запроса это обязательное поле, содержащее описание ошибки</li>
	<li><strong>result</strong> - тело результата выполнения запроса</li>
</ul>
Формат вопроса в ответе API должен включать в себя следующие атрибуты:
<ul>
	<li>Уникальный идентификатор вопроса</li>
	<li>Текст вопроса</li>
	<li>Категория, к которой относится вопрос (это может быть запись из справочника категорий с идентификатором и названием)</li>
	<li>Сложность вопроса - целое число</li>
</ul>
Пример вопроса в ответе API:
<br>{<br>
  "id": 123,<br>
  "question": "Поэт, автор поэмы Евгений Онегин",<br>
  "category": {<br>
    "id": 1,<br>
    "name": "Литература"<br>
  },<br>
  "difficulty": 200<br>
}

## 1
Реализовать метод получения случайного вопроса и проверки ответа на него. Реализовать первоначальное наполнение БД вопросов (лучше сделать создание объектов БД и наполнение таблиц данными при помощи средств миграции, Liquibase или Flyway, например).

Методы API:
<br>GET /question/random - метод получения случайного вопроса<br>
POST /question/check - метод проверки ответа на вопрос.

В теле запроса необходимо передавать ID вопроса и вариант ответа, а в ответе необходимо передать флаг правильным был ответ или нет, а также текст правильного ответа.

Пример запроса:
<br>{<br>
  "question_id": 123,<br>
  "answer": "Лермонтов"<br>
}

Пример ответа:
<br>{<br>
  "question_id": 123,<br>
  "is_correct": false,<br>
  "correct_answer": "Пушкин"<br>
}

## 2
На базе предыдущего задания сделать интеграцию с api [http://jservice.io/](http://jservice.io/) - добавить возможность получения вопросов из данного сервиса.
Теперь случайный вопрос может выдаваться как из числа вопросов, хранящихся в БД, так и из числа вопросов, получаемых из внешнего API.

## 3
На базе предыдущего задания реализовать возможность кэширования вопросов, получаемых из внешнего сервиса.
После получения вопроса из внешнего API его необходимо будет сохранить в кэше, и в дальнейшем, для получения вопроса по его ID (например, для проверки ответа) необходимо сначала проверять наличие вопроса в кэше, и делать запрос к внешнему API только в случае отсутствия вопроса в кэше.

## 4
На базе предыдущего задания реализовать возможность генерации игры для пользователя.
Игра предусматривает генерацию для пользователя набора вопросов, последовательные ответы игрока на каждый из них и отображение результата (количества и процента верных ответов) по ее завершении.

Методы API:
<br>POST /game - Создание новой игры.
Тело запроса должно включать в себя количество вопросов, которые будут в наборе для игры, а также ограничения по сложности вопросов - максимальная и минимальная сложность. Опционально, могут быть указаны категории.
В ответе должен прийти уникальный идентификатор игры и количество вопросов, сгенерированных для нее.

GET /game/{game_id}/{question_number} - Получение очередного вопроса игры. game_id - идентификатор игры, {question_number} - порядковый номер вопроса в игре.

POST /game/{game_id}/{question_number}/check - Проверка ответа игрока на вопрос. В ответе метода API должен прийти признак правильного или неправильного ответа и текст правильного ответа

POST /game/{game_id}/finish - Метод завершения игры, в ответе должна прийти результаты игры - список вопросов игры, для каждого из которых указано, правильно ли на него ответил игрок.

## 5
На базе предыдущих заданий необходимо написать unit-тесты реализованной функциональности.
